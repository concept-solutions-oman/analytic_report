<odoo>
    <record id="view_analytic_report_view_tree" model="ir.ui.view">
        <field name="name">analytic.report.view.tree</field>
        <field name="model">analytic.report.view</field>
        <field name="arch" type="xml">
            <tree string="Analytic Report">
                <field name="date"/>
                <field name="analytic_plan_id" string="Plans" optional="show"/>
                <!-- <field name="all_plans" string="Analytic Ref" optional="show"/> -->
                <field name="plan_code" string="Reference" optional="show"/>
                <field name="plan_name" string="Plan Name" optional="show"/>
                <field name="partner_id" widget="many2one_clickable"/>
                <field name="move_id" widget="many2one_clickable" optional="show"/>
                <field name="product_id" widget="many2one_clickable" optional="show"/>
                <field name="move_line_name"/>
                <field name="general_account_id" widget="many2one_clickable" optional="hide"/>
                <field name="journal_id" widget="many2one_clickable" optional="hide"/>
                <field name="company_id" optional="hide"/>
                <field name="debit" sum="Total Debit"/>
                <field name="credit" sum="Total Credit"/>
                <field name="amount" sum="Net Profit"/>
            </tree>
        </field>
    </record>

    <record id="view_analytic_report_view_search" model="ir.ui.view">
        <field name="name">analytic.report.view.search</field>
        <field name="model">analytic.report.view</field>
        <field name="arch" type="xml">
            <search string="Analytic Report Search">
                <field name="partner_id"/>
                <!-- <field name="all_plans" string="Analytic Ref"/> -->
                <field name="plan_code"/>
                <field name="plan_name"/>
                <field name="company_id"/>
                <field name="move_id"/>
                <field name="journal_id"/>

                <filter name="filter_state_posted" string="Posted" domain="[('move_state', '=', 'posted')]"/>
                <filter name="filter_state_draft" string="Draft" domain="[('move_state', '=', 'draft')]"/>
                <separator/>
                <filter string="Today" name="today" domain="[('date', '=', context_today())]"/>
                <filter name="yesterday" string="Yesterday" domain="[('date', '=', (context_today() - relativedelta(days=1)))]"/> 
                <filter name="this_month" string="This Month" domain="[('date', '&gt;=', context_today().strftime('%Y-%m-01')), ('date', '&lt;=', context_today())]" />
                <separator/>
                <filter string="Customer Invoices" name="filter_out_invoice" domain="[('move_type','=','out_invoice')]"/>
                <filter string="Vendor Bills" name="filter_in_invoice" domain="[('move_type','=','in_invoice')]"/>
                <filter name="filter_sales_return" string="Credit Note" domain="[('move_type', '=', 'out_refund')]"/>
                <filter name="filter_purchase_return" string="Vendor Refund" domain="[('move_type', '=', 'in_refund')]"/>
                <separator/>
                <filter name="filter_date" string="Date" date="date"/>
                <separator/>
               
                <group expand="0" string="Group By">
                    <filter string="Analytic Plan" name="group_analytic_plan" context="{'group_by': 'analytic_plan_id'}"/>
                    <filter string="Account" name="group_account" context="{'group_by': 'general_account_id'}"/>
                    <filter string="Journal" name="group_journal" context="{'group_by': 'journal_id'}"/>
                    <filter string="Customer" name="group_partner" context="{'group_by': 'partner_id'}"/>
                    <filter string="Company" name="group_company" context="{'group_by': 'company_id'}"/>
                    <filter string="Journal Entry" name="group_move" context="{'group_by': 'move_id'}"/>
                    <filter string="Analytic Ref" name="groupby_all_plans" context="{'group_by':'all_plans'}"/>
                    <filter string="Product" name="group_product" context="{'group_by': 'product_id'}"/>
                    <filter string="Reference" name="group_reference" context="{'group_by': 'plan_code'}"/>
                    <filter string="Name" name="group_name" context="{'group_by': 'plan_name'}"/>
                    <separator/>
                    <filter name="group_by_date" string="Date" context="{'group_by': 'date'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="action_analytic_report_view" model="ir.actions.act_window">
        <field name="name">Analytic Report</field>
        <field name="res_model">analytic.report.view</field>
        <field name="view_mode">tree</field>
        <field name="context">{'group_by': 'analytic_plan_id'}</field>
        <field name="domain">[('company_id', 'in', context.get('allowed_company_ids', []))]</field>
    </record>

    
     <menuitem id="menu_analytic_sql_report"
            name="Analytic Report"
            parent="concept_account_reports.menu_concept_account_root"
            action="action_analytic_report_view"
            sequence="15"/>
</odoo>

